
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work and Force Physics Simulation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f7fa;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 20px;
        }
        .simulation {
            width: 100%;
            height: 400px;
            border: 2px solid #3498db;
            border-radius: 5px;
            position: relative;
            overflow: hidden;
            background-color: #ecf0f1;
            margin-bottom: 20px;
        }
        .box {
            width: 60px;
            height: 60px;
            background-color: #e74c3c;
            position: absolute;
            border-radius: 5px;
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
            z-index: 10;
        }
        .arrow {
            position: absolute;
            height: 3px;
            z-index: 5;
        }
        .force-arrow { background-color: #3498db; z-index: 20; }
        .motion-arrow { background-color: #2ecc71; }
        
        .arrowhead {
            position: absolute;
            width: 0;
            height: 0;
            border-style: solid;
        }
        .force-arrowhead { z-index: 20; }
        .motion-arrowhead { z-index: 5; }
        
        .arrow-label {
            position: absolute;
            font-size: 12px;
            font-weight: bold;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 3px 6px;
            border-radius: 3px;
            white-space: nowrap;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
            z-index: 20;
        }
        .force-label { color: #2980b9; border: 1px solid #3498db; }
        .motion-label { color: #27ae60; border: 1px solid #2ecc71; }
        
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }
        .control-group {
            flex: 1;
            min-width: 200px;
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #3498db;
        }
        .control-group h3 {
            margin-top: 0;
            color: #2c3e50;
        }
        select, input, button {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 15px;
        }
        button {
            background-color: #3498db;
            color: white;
            cursor: pointer;
            border: none;
            padding: 12px;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        button:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
        }
        .work-label {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.9);
            border: 2px solid #3498db;
            border-radius: 5px;
            padding: 8px;
            font-size: 14px;
            max-width: 200px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            z-index: 30;
        }
        .results {
            padding: 20px;
            background-color: #e8f4f8;
            border-radius: 5px;
            margin-top: 20px;
            border-left: 4px solid #2ecc71;
        }
        .results h3 {
            margin-top: 0;
            color: #2c3e50;
            border-bottom: 1px solid #bdc3c7;
            padding-bottom: 10px;
        }
        .formula {
            font-style: italic;
            margin: 15px 0;
            color: #2c3e50;
            font-size: 18px;
            text-align: center;
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
        }
        .explanation {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            display: none;
        }
        .explanation.visible {
            display: block;
        }
        .explanation h3 {
            color: #2c3e50;
            margin-top: 0;
        }
        .key-concept {
            font-weight: bold;
            color: #e74c3c;
        }
        .legend {
            display: flex;
            justify-content: center;
            margin: 15px 0;
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin: 0 15px;
        }
        .legend-color {
            width: 20px;
            height: 3px;
            margin-right: 8px;
        }
        .force-legend {
            background-color: #3498db;
        }
        .motion-legend {
            background-color: #2ecc71;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Work, Force, and Motion Simulation</h1>
        
        <div class="simulation" id="simulation">
            <div class="box" id="box"></div>
        </div>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-color force-legend"></div>
                <span>Force Direction</span>
            </div>
            <div class="legend-item">
                <div class="legend-color motion-legend"></div>
                <span>Motion Direction</span>
            </div>
        </div>
        
        <div class="controls">
            <div class="control-group">
                <h3>Force Controls</h3>
                <label for="forceDirection">Force Direction:</label>
                <select id="forceDirection">
                    <option value="right">Right →</option>
                    <option value="left">Left ←</option>
                    <option value="up">Up ↑</option>
                    <option value="down">Down ↓</option>
                </select>
                
                <label for="forceValue">Force Magnitude (Newtons, max 100):</label>
                <input type="number" id="forceValue" min="1" max="100" value="10">
            </div>
            
            <div class="control-group">
                <h3>Motion Controls</h3>
                <label for="motionDirection">Motion Direction:</label>
                <select id="motionDirection">
                    <option value="right">Right →</option>
                    <option value="left">Left ←</option>
                    <option value="up">Up ↑</option>
                    <option value="down">Down ↓</option>
                </select>
                
                <label for="distanceValue">Distance (Metres, max 300):</label>
                <input type="number" id="distanceValue" min="1" max="300" value="100">
            </div>
        </div>
        
        <button id="simulateButton">Run Simulation</button>
        <button id="resetBox">Reset Box</button>
        
        <div class="results" id="results">
            <h3>Work Calculation</h3>
            <p>Select force and motion directions, set magnitudes and distance, then run the simulation to see the calculation.</p>
            <p class="formula">Work = Force × Distance</p>
            <p>Where work is done by the force when motion is in the same direction as force, work is done <span style="color: #e74c3c; font-weight: bold;">against</span> the force when motion is in the opposite direction, and no work is done when motion is perpendicular to force.</p>
        </div>
        
        <button id="toggleExplanation">Show Understanding Work in Physics</button>
        
        <div class="explanation" id="explanationSection">
            <h3>Understanding Work in Physics</h3>
            <p>In physics, <span class="key-concept">work</span> is done when a force causes an object to move in the direction of the force. The mathematical definition of work is:</p>
            <p class="formula">W = F × d</p>
            <p>Where:</p>
            <ul>
                <li><strong>W</strong> is the work done (measured in Joules)</li>
                <li><strong>F</strong> is the force applied (measured in Newtons, max 100)</li>
                <li><strong>d</strong> is the displacement of the object (measured in metres, max 300)</li>
                <li>The sign of work depends on the relationship between force and motion:</li>
                <ul>
                    <li><strong>Positive work</strong> when motion is in the <span class="key-concept">same direction as force</span></li>
                    <li>Work done <span class="key-concept">against</span> the force when motion is in the <span class="key-concept">opposite direction of force</span></li>
                    <li><strong>Zero work</strong> when motion is <span class="key-concept">perpendicular to force</span></li>
                </ul>
            </ul>
        </div>
    </div>
    
    <footer style="text-align: center; margin-top: 20px; color: #7f8c8d; font-size: 14px; padding: 10px;">
        Created by James Kua, Temasek Junior College
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM elements
            const simulation = document.getElementById('simulation');
            const box = document.getElementById('box');
            const forceDirection = document.getElementById('forceDirection');
            const motionDirection = document.getElementById('motionDirection');
            const forceValue = document.getElementById('forceValue');
            const distanceValue = document.getElementById('distanceValue');
            const simulateButton = document.getElementById('simulateButton');
            const resetBoxBtn = document.getElementById('resetBox');
            const results = document.getElementById('results');
            const toggleExplanationBtn = document.getElementById('toggleExplanation');
            const explanationSection = document.getElementById('explanationSection');
            
            // Toggle explanation section
            toggleExplanationBtn.addEventListener('click', function() {
                explanationSection.classList.toggle('visible');
                toggleExplanationBtn.textContent = explanationSection.classList.contains('visible') 
                    ? 'Hide Understanding Work in Physics' 
                    : 'Show Understanding Work in Physics';
            });
            
            // Flag to track if box has been moved
            let boxMoved = false;
            
            // Box and simulation properties
            const boxWidth = 60;
            const boxHeight = 60;
            const scaleFactor = 1.5; // Scale factor to convert from meters to pixels (increased by 5x)
            
            // Initialize box position
            setTimeout(initializeSimulation, 100);
            
            function initializeSimulation() {
                // Get simulation dimensions
                const simWidth = simulation.offsetWidth;
                const simHeight = simulation.offsetHeight;
                
                // Set box at center position
                const centerX = Math.floor(simWidth / 2 - boxWidth / 2);
                const centerY = Math.floor(simHeight / 2 - boxHeight / 2);
                
                box.style.left = centerX + 'px';
                box.style.top = centerY + 'px';
                
                // Initial arrows
                updateForceArrow();
                updateMotionArrow();
                
                // Event listeners for controls
                forceDirection.addEventListener('change', updateForceArrow);
                motionDirection.addEventListener('change', updateMotionArrow);
                distanceValue.addEventListener('change', updateMotionArrow);
            }
            
            // Update force arrow
            function updateForceArrow() {
                // Remove existing force arrows
                removeElements('.force-arrow, .force-arrowhead, .force-label');
                
                const direction = forceDirection.value;
                const boxCenterX = parseInt(box.style.left) + boxWidth / 2;
                const boxCenterY = parseInt(box.style.top) + boxHeight / 2;
                
                // Create arrow elements
                const arrow = createArrowElement('force-arrow arrow');
                const arrowhead = createArrowElement('force-arrowhead arrowhead');
                const label = createArrowElement('force-label arrow-label', 'FORCE');
                
                // Position based on direction
                positionArrow(direction, arrow, arrowhead, label, boxCenterX, boxCenterY, true);
                
                // Add to simulation
                simulation.appendChild(arrow);
                simulation.appendChild(arrowhead);
                simulation.appendChild(label);
            }
            
            // Update motion arrow
            function updateMotionArrow() {
                // Remove existing motion arrows
                removeElements('.motion-arrow, .motion-arrowhead, .motion-label');
                
                const direction = motionDirection.value;
                const distance = parseInt(distanceValue.value);
                const boxCenterX = parseInt(box.style.left) + boxWidth / 2;
                const boxCenterY = parseInt(box.style.top) + boxHeight / 2;
                
                // Calculate pixel distance
                const pixelDistance = Math.min(distance * scaleFactor, 380);
                
                // Create arrow elements
                const arrow = createArrowElement('motion-arrow arrow');
                const arrowhead = createArrowElement('motion-arrowhead arrowhead');
                const label = createArrowElement('motion-label arrow-label', 'MOTION');
                
                // Position based on direction
                positionArrow(direction, arrow, arrowhead, label, boxCenterX, boxCenterY, false, pixelDistance);
                
                // Add to simulation
                simulation.appendChild(arrow);
                simulation.appendChild(arrowhead);
                simulation.appendChild(label);
            }
            
            // Helper function to create arrow element
            function createArrowElement(className, text = '') {
                const el = document.createElement('div');
                el.className = className;
                if (text) el.textContent = text;
                return el;
            }
            
            // Helper function to remove elements
            function removeElements(selector) {
                const elements = document.querySelectorAll(selector);
                elements.forEach(el => el.remove());
            }
            
            // Helper function to position arrows
            function positionArrow(direction, arrow, arrowhead, label, boxCenterX, boxCenterY, isForce, pixelDistance = 80) {
                const offset = isForce ? 0 : 20;
                
                switch(direction) {
                    case 'right':
                        // Arrow pointing right
                        arrow.style.width = pixelDistance + 'px';
                        arrow.style.height = '3px';
                        arrow.style.top = (boxCenterY + offset) + 'px';
                        arrow.style.left = isForce ? boxCenterX + 'px' : (boxCenterX + boxWidth/2) + 'px';
                        
                        // Arrowhead
                        arrowhead.style.borderWidth = '6px 0 6px 10px';
                        arrowhead.style.borderColor = `transparent transparent transparent ${isForce ? '#3498db' : '#2ecc71'}`;
                        arrowhead.style.top = (boxCenterY + offset - 6) + 'px';
                        arrowhead.style.left = isForce ? 
                            (boxCenterX + pixelDistance) + 'px' : 
                            (boxCenterX + boxWidth/2 + pixelDistance) + 'px';
                        
                        // Label
                        if (isForce) {
                            label.style.top = (boxCenterY - 25) + 'px';
                            label.style.left = (boxCenterX + 20) + 'px';
                        } else {
                            label.style.top = (boxCenterY + offset + 10) + 'px';
                            label.style.left = (boxCenterX + boxWidth/2 + pixelDistance/2 - 25) + 'px';
                        }
                        break;
                        
                    case 'left':
                        // Arrow pointing left
                        arrow.style.width = pixelDistance + 'px';
                        arrow.style.height = '3px';
                        arrow.style.top = (boxCenterY + offset) + 'px';
                        
                        if (isForce) {
                            arrow.style.left = (boxCenterX - pixelDistance) + 'px';
                            arrowhead.style.left = (boxCenterX - pixelDistance - 10) + 'px';
                            arrowhead.style.top = (boxCenterY + offset - 6) + 'px';
                            label.style.top = (boxCenterY - 25) + 'px';
                            label.style.left = (boxCenterX - 60) + 'px';
                        } else {
                            arrow.style.left = (boxCenterX - boxWidth/2 - pixelDistance) + 'px';
                            arrowhead.style.left = (boxCenterX - boxWidth/2 - pixelDistance - 10) + 'px';
                            arrowhead.style.top = (boxCenterY + offset - 6) + 'px';
                            label.style.top = (boxCenterY + offset + 10) + 'px';
                            label.style.left = (boxCenterX - boxWidth/2 - pixelDistance/2 - 25) + 'px';
                        }
                        
                        // Arrowhead
                        arrowhead.style.borderWidth = '6px 10px 6px 0';
                        arrowhead.style.borderColor = `transparent ${isForce ? '#3498db' : '#2ecc71'} transparent transparent`;
                        break;
                        
                    case 'up':
                        // Arrow pointing up
                        arrow.style.width = '3px';
                        arrow.style.height = pixelDistance + 'px';
                        arrow.style.left = (boxCenterX - offset) + 'px';
                        
                        if (isForce) {
                            arrow.style.top = (boxCenterY - pixelDistance) + 'px';
                            arrowhead.style.top = (boxCenterY - pixelDistance - 10) + 'px';
                            arrowhead.style.left = (boxCenterX - offset - 6) + 'px';
                            label.style.left = (boxCenterX + 10) + 'px';
                            label.style.top = (boxCenterY - 60) + 'px';
                        } else {
                            arrow.style.top = (boxCenterY - boxHeight/2 - pixelDistance) + 'px';
                            arrowhead.style.top = (boxCenterY - boxHeight/2 - pixelDistance - 10) + 'px';
                            arrowhead.style.left = (boxCenterX - offset - 6) + 'px';
                            label.style.left = (boxCenterX - 60) + 'px';
                            label.style.top = (boxCenterY - boxHeight/2 - pixelDistance/2 - 10) + 'px';
                        }
                        
                        // Arrowhead
                        arrowhead.style.borderWidth = '0 6px 10px 6px';
                        arrowhead.style.borderColor = `transparent transparent ${isForce ? '#3498db' : '#2ecc71'} transparent`;
                        break;
                        
                    case 'down':
                        // Arrow pointing down
                        arrow.style.width = '3px';
                        arrow.style.height = pixelDistance + 'px';
                        arrow.style.left = (boxCenterX - offset) + 'px';
                        
                        if (isForce) {
                            arrow.style.top = boxCenterY + 'px';
                            arrowhead.style.top = (boxCenterY + pixelDistance) + 'px';
                            arrowhead.style.left = (boxCenterX - offset - 6) + 'px';
                            label.style.left = (boxCenterX + 10) + 'px';
                            label.style.top = (boxCenterY + 30) + 'px';
                        } else {
                            arrow.style.top = (boxCenterY + boxHeight/2) + 'px';
                            arrowhead.style.top = (boxCenterY + boxHeight/2 + pixelDistance) + 'px';
                            arrowhead.style.left = (boxCenterX - offset - 6) + 'px';
                            label.style.left = (boxCenterX - 60) + 'px';
                            label.style.top = (boxCenterY + boxHeight/2 + pixelDistance/2 - 10) + 'px';
                        }
                        
                        // Arrowhead
                        arrowhead.style.borderWidth = '10px 6px 0 6px';
                        arrowhead.style.borderColor = `${isForce ? '#3498db' : '#2ecc71'} transparent transparent transparent`;
                        break;
                }
            }
            
            // Run simulation
            simulateButton.addEventListener('click', function() {
                if (boxMoved) {
                    alert("Please reset the box before running another simulation.");
                    return;
                }
                
                const force = parseInt(forceValue.value);
                const forceDir = forceDirection.value;
                const motionDir = motionDirection.value;
                const distance = parseInt(distanceValue.value);
                
                // Get current box position
                const currentBoxX = parseInt(box.style.left);
                const currentBoxY = parseInt(box.style.top);
                
                // Calculate pixel distance
                const pixelDistance = Math.min(distance * scaleFactor, 200);
                
                // Calculate new position
                let newX = currentBoxX;
                let newY = currentBoxY;
                
                // Simulate the box movement
                const simWidth = simulation.offsetWidth;
                const simHeight = simulation.offsetHeight;
                
                switch(motionDir) {
                    case 'right': newX = Math.min(currentBoxX + pixelDistance, simWidth - boxWidth); break;
                    case 'left': newX = Math.max(currentBoxX - pixelDistance, 0); break;
                    case 'up': newY = Math.max(currentBoxY - pixelDistance, 0); break;
                    case 'down': newY = Math.min(currentBoxY + pixelDistance, simHeight - boxHeight); break;
                }
                
                // Calculate actual distance moved in meters
                const actualPixelDistance = motionDir === 'right' || motionDir === 'left' 
                    ? Math.abs(newX - currentBoxX) : Math.abs(newY - currentBoxY);
                const actualDistance = actualPixelDistance / scaleFactor;
                
                // Determine work calculation
                let work, relationDescription;
                
                // Compare force and motion directions
                if (forceDir === motionDir) {
                    // Same direction: positive work
                    work = force * actualDistance;
                    relationDescription = "same direction as force (positive work)";
                } else if (
                    (forceDir === 'right' && motionDir === 'left') ||
                    (forceDir === 'left' && motionDir === 'right') ||
                    (forceDir === 'up' && motionDir === 'down') ||
                    (forceDir === 'down' && motionDir === 'up')
                ) {
                    // Opposite directions: work against the force
                    work = force * actualDistance;
                    relationDescription = "opposite direction of force (work done <span style='color: #e74c3c; font-weight: bold;'>against</span> the force)";
                } else {
                    // Perpendicular: no work
                    work = 0;
                    relationDescription = "perpendicular to force (no work)";
                }
                
                // Hide arrows during animation
                hideElements('.force-arrow, .force-arrowhead, .force-label, .motion-arrow, .motion-arrowhead, .motion-label');
                
                // Remove any existing work labels
                removeElements('.work-label');
                
                // Set flag that box has been moved and disable simulate button
                boxMoved = true;
                simulateButton.disabled = true;
                
                // Move box with animation
                animateBox(newX, newY, function() {
                    // Update results after animation completes
                    updateResults(force, forceDir, actualDistance, motionDir, work, relationDescription);
                    
                    // Update arrow positions with current box location
                    updateForceArrow();
                    updateMotionArrow();
                    
                    // Show arrows again
                    showElements('.force-arrow, .force-arrowhead, .force-label, .motion-arrow, .motion-arrowhead, .motion-label');
                    
                    // Create work label
                    createWorkLabel(force, work);
                });
            });
            
            // Helper function to animate box
            function animateBox(newX, newY, callback) {
                box.style.transition = 'all 1s ease';
                box.style.left = newX + 'px';
                box.style.top = newY + 'px';
                setTimeout(callback, 1000);
            }
            
            // Helper function to hide elements
            function hideElements(selector) {
                const elements = document.querySelectorAll(selector);
                elements.forEach(el => el.style.display = 'none');
            }
            
            // Helper function to show elements
            function showElements(selector) {
                const elements = document.querySelectorAll(selector);
                elements.forEach(el => el.style.display = 'block');
            }
            
            // Helper function to update results
            function updateResults(force, forceDir, distance, motionDir, work, relation) {
                const workDescription = forceDir === motionDir ? 
                    'Work done by the force (energy is transferred TO the object)' : 
                    ((forceDir === 'right' && motionDir === 'left') ||
                    (forceDir === 'left' && motionDir === 'right') ||
                    (forceDir === 'up' && motionDir === 'down') ||
                    (forceDir === 'down' && motionDir === 'up')) ? 
                        'Work done <span style="color: #e74c3c; font-weight: bold;">against</span> the force (energy is required FROM the object)' : 
                        'No work is done (force is perpendicular to displacement)';
                
                results.innerHTML = `
                    <h3>Work Calculation</h3>
                    <p>Force: ${force} N (${forceDir})</p>
                    <p>Distance: ${distance.toFixed(1)} m (${motionDir})</p>
                    <p>Motion is in the <span class="key-concept">${relation}</span></p>
                    <p class="formula">Work = Force × Distance</p>
                    <p>Work = ${force} N × ${distance.toFixed(1)} m = ${work.toFixed(1)} Joules</p>
                    <p><strong>${workDescription}</strong></p>
                    <p class="key-concept">Reset the box to run another simulation.</p>
                `;
            }
            
                // Helper function to create work label
            function createWorkLabel(force, work) {
                const workLabel = document.createElement('div');
                workLabel.className = 'work-label';
                
                // Check if force and motion are in opposite directions
                const forceDir = forceDirection.value;
                const motionDir = motionDirection.value;
                const isOpposite = (
                    (forceDir === 'right' && motionDir === 'left') ||
                    (forceDir === 'left' && motionDir === 'right') ||
                    (forceDir === 'up' && motionDir === 'down') ||
                    (forceDir === 'down' && motionDir === 'up')
                );
                
                if (isOpposite) {
                    workLabel.innerHTML = `Work done <span style="color: #e74c3c; font-weight: bold;">against</span> the ${force} N force is ${work.toFixed(1)} J`;
                } else {
                    workLabel.textContent = `Work done by ${force} N force is ${work.toFixed(1)} J`;
                }
                
                // Position the label near the box
                const boxRect = box.getBoundingClientRect();
                const simulationRect = simulation.getBoundingClientRect();
                
                workLabel.style.top = `${boxRect.bottom - simulationRect.top + 10}px`;
                workLabel.style.left = `${boxRect.left - simulationRect.left}px`;
                
                simulation.appendChild(workLabel);
            }
            
            // Reset button
            resetBoxBtn.addEventListener('click', function() {
                // Get simulation dimensions
                const simWidth = simulation.offsetWidth;
                const simHeight = simulation.offsetHeight;
                
                // Calculate center position
                const centerX = Math.floor(simWidth / 2 - boxWidth / 2);
                const centerY = Math.floor(simHeight / 2 - boxHeight / 2);
                
                // Reset box position
                box.style.transition = 'all 0.5s ease';
                box.style.left = centerX + 'px';
                box.style.top = centerY + 'px';
                
                // Reset flags and UI
                boxMoved = false;
                simulateButton.disabled = false;
                removeElements('.work-label');
                
                // Reset results
                results.innerHTML = `
                    <h3>Work Calculation</h3>
                    <p>Select force and motion directions, set magnitudes and distance, then run the simulation to see the calculation.</p>
                    <p class="formula">Work = Force × Distance</p>
                    <p>Work depends on the relationship between force and motion direction.</p>
                `;
                
                // Update arrows
                setTimeout(function() {
                    updateForceArrow();
                    updateMotionArrow();
                }, 600);
            });
        });
    </script>
</body>
</html>
